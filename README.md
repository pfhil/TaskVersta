# TaskVersta

Решенное [тестовое](https://versta24.ru/hr/testfordevjun) от компании versta24.

# Установка и настройка

## Предварительные требования

1. Удостоверьтесь, что на компьютере установлен пакет SDK для .NET 7.0. Скачать его можно с официального сайта https://dotnet.microsoft.com/en-us/download/dotnet/7.0
2. Удостоверьтесь, что на компьютере установлен PostgreSQL. Скачать его можно с официального сайта https://www.postgresql.org/download/ и ([Хорошая инструкция по установке](https://metanit.com/sql/postgresql/1.1.php)) (Может подойти любая другая база данных, которая поддерживается EntityFramework, однако для их использования потребуются изменения в коде и установка дополнительных пакетов)

## Установка и запуск

<details>
  <summary>Используя терминал</summary>

1. Клонируйте приложение с помощью команды git:
```
git clone https://github.com/pfhil/TaskVersta.git
```
2. Перейдите в каталог проекта с помощью командной строки:
```
cd [repository]
```
3. Восстановите пакеты NuGet, выполнив следующую команду:
```
dotnet restore
```
4. Затем в папке репозитория откройте папку TaskVersta и откройте файл appsettings.json и найдите раздел «ConnectionStrings». Измените значение "DefaultConnection" строкой подключения для вашей базы данных.
5. Создайте базу данных, выполнив следующую команду в каталоге проекта (каталог где находится .csproj файл):
```
dotnet ef database update
```
<details>
  <summary>Возможнная ошибка на этом этапе</summary>
  
  После выполнения команды dotnet ef database update вы можете столкнуться со следующей ошибкой:
  
  ```
  Не удалось выполнить, так как не найдены указанная команда или указанный файл.
Возможные причины:
  * вы неправильно набрали встроенную команду dotnet;
  * вы планировали выполнить программу .NET, однако dotnet-ef не существует;
  * вы хотели запустить глобальное средство, но по указанному в PATH пути не удалось найти исполняемый файл с префиксом dotnet, имеющий такое имя.
  ```
  Для ее решения потребуется выполнить следующую команду:
  ```
  dotnet tool install --global dotnet-ef
  ```
  Затем повторите команду:
  ```
  dotnet ef database update
  ```
</details>

6. Создайте и запустите приложение, используя следующую команду в каталоге проекта:
```
dotnet run
```
В последующих строках должен быть отображен примерно следующий текст:
```
info: Microsoft.Hosting.Lifetime[14]
      Now listening on: http://localhost:5009
```
Это означает, что вы можете открыть в браузере ссылку http://localhost:5009 (ссылка может быть другая! используйте ту которая отобразилась у вас на терминале) и получить доступ к функциям приложения.

7. Теперь ваше приложение запущено и успешно подключено к базе данных.

Для остановки работы приложения вы можете использовать в терминале в котором вы запускали программу сочетание клавиш Ctrl+C или закрыть сам терминал

</details>

<details>
  <summary>Используя Visual Studio 2022</summary>
  
1. Скачайте архив проекта (Кнопка Code->Download ZIP)
2. Разархивируйте его
3. Откройте каталог TaskVersta-master и в нем при помощи Visual Studio 2022 откройте TaskVersta.sln

Далее используя Visual Studio 2022

4. Откройте файл appsettings.json и найдите раздел «ConnectionStrings». Измените значение "DefaultConnection" строкой подключения для вашей базы данных.
5. Откройте Package Manager Console (Если нету - в меню сверху Tools->NuGet Package Manager->Package Manager Console)
6. Создайте базу данных командой:
```
update-database
```

7. Запустите проект (кнопка Start в меню сверху или F5 на клавиатуре)

У вас должны были открыться терминал и браузер с функциями приложения. Если браузер не открылся, то в терминале должны быть отображены примерно следующие строки:

```
info: Microsoft.Hosting.Lifetime[14]
      Now listening on: https://localhost:7003
info: Microsoft.Hosting.Lifetime[14]
      Now listening on: http://localhost:5009
```

Это значит, что перейдя по ссылке https://localhost:7003 или http://localhost:5009 (ссылки могут быть другие! используйте те которые отобразились у вас на терминале) в браузере вы сможете воспользоваться функциями приложения

8. Теперь ваше приложение запущено и успешно подключено к базе данных.

Для остановки работы приложения вы можете использовать в терминале, который запустился вместе с программой, сочетание клавиш Ctrl+C или закрыть сам терминал или в Visual Studio 2022 нажать кнопку Stop в меню сверху

</details>

# Используемые технологии

- ASP.NET 7
- ASP.NET MVC
- Entity Framework
- PostgreSQL

# Примечания по работе программы

В приложении среда разработки установлена на значение `Development` это значит, что исключения, возникшие при обработке запроса, будут подробно расписаны и  соответственно это является запланированным поведением. Чтобы не отображать столь уязвимую информацию, в файле launchSettings.json необходимо изменить значение переменной `ASPNETCORE_ENVIRONMENT` на `Production` и перекомпилировать проект

# P.S.

Столь высокое содержание JavaScript кода в проекте обусловлено тем, что в проект установлена библиотека Font Awesome
